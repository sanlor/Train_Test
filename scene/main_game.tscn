[gd_scene load_steps=7 format=3 uid="uid://obtfpbyy4qf2"]

[ext_resource type="Texture2D" uid="uid://uukki6vhwjpt" path="res://assets/tilemap/temp_tilemap.png" id="1_o71w0"]
[ext_resource type="Script" path="res://scene/map_logic.gd" id="2_4w5il"]
[ext_resource type="PackedScene" uid="uid://cbeegui2pocgt" path="res://scene/engine.tscn" id="2_gvt76"]
[ext_resource type="Script" path="res://scene/builder_ui.gd" id="4_cr3s4"]

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_laxjo"]
texture = ExtResource("1_o71w0")
0:0/0 = 0
0:0/0/terrain_set = 0
0:0/0/terrain = 0
0:0/0/terrains_peering_bit/right_side = 0
0:0/0/terrains_peering_bit/left_side = 0
0:0/0/custom_data_0 = true
1:0/0 = 0
1:0/0/terrain_set = 0
1:0/0/terrain = 0
1:0/0/terrains_peering_bit/bottom_side = 0
1:0/0/terrains_peering_bit/top_side = 0
1:0/0/custom_data_0 = true
2:0/0 = 0
2:0/0/terrain_set = 0
2:0/0/terrain = 0
2:0/0/terrains_peering_bit/right_side = 0
2:0/0/terrains_peering_bit/bottom_side = 0
2:0/0/custom_data_0 = true
3:0/0 = 0
3:0/0/terrain_set = 0
3:0/0/terrain = 0
3:0/0/terrains_peering_bit/bottom_side = 0
3:0/0/terrains_peering_bit/left_side = 0
3:0/0/custom_data_0 = true
4:0/0 = 0
5:0/0 = 0
1:1/0 = 0
1:1/0/terrain_set = 0
1:1/0/terrain = 0
1:1/0/terrains_peering_bit/right_side = 0
1:1/0/terrains_peering_bit/bottom_side = 0
1:1/0/terrains_peering_bit/left_side = 0
1:1/0/terrains_peering_bit/top_side = 0
1:1/0/custom_data_0 = true
2:1/0 = 0
2:1/0/terrain_set = 0
2:1/0/terrain = 0
2:1/0/terrains_peering_bit/right_side = 0
2:1/0/terrains_peering_bit/top_side = 0
2:1/0/custom_data_0 = true
3:1/0 = 0
3:1/0/terrain_set = 0
3:1/0/terrain = 0
3:1/0/terrains_peering_bit/left_side = 0
3:1/0/terrains_peering_bit/top_side = 0
3:1/0/custom_data_0 = true
2:2/0 = 0
2:2/0/terrain_set = 0
2:2/0/terrain = 0
2:2/0/terrains_peering_bit/left_side = 0
2:2/0/custom_data_0 = true
2:3/0 = 0
2:3/0/terrain_set = 0
2:3/0/terrain = 0
2:3/0/terrains_peering_bit/top_side = 0
2:3/0/custom_data_0 = true
3:3/0 = 0
3:3/0/terrain_set = 0
3:3/0/terrain = 0
3:3/0/terrains_peering_bit/bottom_side = 0
3:3/0/custom_data_0 = true
3:2/0 = 0
3:2/0/terrain_set = 0
3:2/0/terrain = 0
3:2/0/terrains_peering_bit/right_side = 0
3:2/0/custom_data_0 = true
0:2/0 = 0
0:2/0/terrain_set = 0
0:2/0/custom_data_1 = true
1:2/0 = 0
1:2/0/terrain_set = 0
1:2/0/custom_data_1 = true
0:3/0 = 0
0:3/0/custom_data_2 = true
0:4/0 = 0
0:4/0/custom_data_2 = true
0:5/0 = 0
0:5/0/custom_data_2 = true
0:6/0 = 0
0:6/0/custom_data_2 = true
1:6/0 = 0
1:6/0/custom_data_2 = true
1:5/0 = 0
1:5/0/custom_data_2 = true
1:4/0 = 0
1:4/0/custom_data_2 = true
1:3/0 = 0
1:3/0/custom_data_2 = true
4:2/0 = 0
4:2/0/terrain_set = 0
4:2/0/terrain = 0
4:2/0/terrains_peering_bit/bottom_left_corner = 0
4:2/0/terrains_peering_bit/top_right_corner = 0
5:2/0 = 0
5:2/0/terrain_set = 0
5:2/0/terrain = 0
5:2/0/terrains_peering_bit/bottom_right_corner = 0
5:2/0/terrains_peering_bit/top_left_corner = 0
5:3/0 = 0
5:3/0/terrain_set = 0
5:3/0/terrain = 0
5:3/0/terrains_peering_bit/bottom_left_corner = 0
5:3/0/terrains_peering_bit/top_right_corner = 0
4:3/0 = 0
4:3/0/terrain_set = 0
4:3/0/terrain = 0
4:3/0/terrains_peering_bit/bottom_right_corner = 0
4:3/0/terrains_peering_bit/top_left_corner = 0
2:4/0 = 0
2:4/0/terrain_set = 0
2:4/0/terrain = 0
2:4/0/terrains_peering_bit/right_side = 0
2:4/0/terrains_peering_bit/bottom_side = 0
2:4/0/terrains_peering_bit/top_side = 0
3:4/0 = 0
3:4/0/terrain_set = 0
3:4/0/terrain = 0
3:4/0/terrains_peering_bit/right_side = 0
3:4/0/terrains_peering_bit/left_side = 0
3:4/0/terrains_peering_bit/top_side = 0
3:5/0 = 0
3:5/0/terrain_set = 0
3:5/0/terrain = 0
3:5/0/terrains_peering_bit/bottom_side = 0
3:5/0/terrains_peering_bit/left_side = 0
3:5/0/terrains_peering_bit/top_side = 0
2:5/0 = 0
2:5/0/terrain_set = 0
2:5/0/terrain = 0
2:5/0/terrains_peering_bit/right_side = 0
2:5/0/terrains_peering_bit/bottom_side = 0
2:5/0/terrains_peering_bit/left_side = 0

[sub_resource type="TileSet" id="TileSet_yekjk"]
terrain_set_0/mode = 0
terrain_set_0/terrain_0/name = "track_pieces"
terrain_set_0/terrain_0/color = Color(0.5, 0.34375, 0.25, 1)
custom_data_layer_0/name = "track"
custom_data_layer_0/type = 1
custom_data_layer_1/name = "station"
custom_data_layer_1/type = 1
custom_data_layer_2/name = "signal"
custom_data_layer_2/type = 1
sources/0 = SubResource("TileSetAtlasSource_laxjo")

[node name="game_area" type="Node2D"]

[node name="ColorRect" type="ColorRect" parent="."]
custom_minimum_size = Vector2(1000, 1000)
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = -27.0
offset_top = -92.0
offset_right = 973.0
offset_bottom = 908.0
grow_horizontal = 2
grow_vertical = 2
color = Color(0.245481, 0.425731, 0.145196, 1)

[node name="Camera2D" type="Camera2D" parent="."]
anchor_mode = 0
zoom = Vector2(2, 2)

[node name="map" type="TileMap" parent="."]
tile_set = SubResource("TileSet_yekjk")
format = 2
layer_0/name = "track"
layer_0/tile_data = PackedInt32Array(393245, 131072, 2, 393244, 0, 0, 393243, 0, 0, 393242, 0, 0, 393241, 0, 0, 393240, 0, 0, 393239, 0, 0, 393238, 0, 0, 393237, 131072, 5, 393236, 0, 0, 393235, 0, 0, 393234, 0, 0, 393233, 0, 0, 393232, 0, 0, 393231, 0, 0, 393230, 0, 0, 393229, 131072, 5, 393228, 0, 0, 393227, 196608, 4, 393226, 0, 0, 393225, 0, 0, 393224, 0, 0, 393223, 0, 0, 393222, 65536, 1, 393221, 0, 0, 393220, 0, 0, 393219, 0, 0, 393218, 196608, 2, 720917, 196608, 1, 655381, 65536, 0, 589845, 65536, 0, 524309, 65536, 0, 458773, 65536, 0, 720902, 131072, 1, 720903, 0, 0, 720904, 0, 0, 720905, 0, 0, 720906, 0, 0, 720907, 0, 0, 720908, 0, 0, 720909, 0, 0, 720910, 0, 0, 720911, 0, 0, 720912, 0, 0, 720913, 0, 0, 720914, 0, 0, 720915, 196608, 4, 720916, 0, 0, 458758, 65536, 0, 524294, 65536, 0, 589830, 65536, 0, 655366, 65536, 0, 327686, 65536, 0, 262150, 65536, 0, 196614, 131072, 0, 196615, 0, 0, 196616, 0, 0, 196617, 0, 0, 196618, 0, 0, 196619, 196608, 0, 262155, 65536, 0, 327691, 65536, 0, 589837, 131072, 1, 524301, 65536, 0, 458765, 65536, 0, 655379, 65536, 0, 589843, 65536, 0, 524307, 196608, 0, 524306, 0, 0, 524305, 131072, 0, 589841, 196608, 1, 589840, 0, 0, 589839, 0, 0, 589838, 0, 0, 851982, 131072, 0, 851983, 0, 0, 851984, 0, 0, 851985, 0, 0, 851986, 0, 0, 851987, 0, 0, 851988, 0, 0, 851989, 196608, 0, 917525, 131072, 1, 917526, 196608, 0, 983062, 65536, 0, 1048597, 131072, 0, 1114133, 196608, 1, 1114132, 0, 0, 1114131, 0, 0, 1114130, 0, 0, 1114129, 0, 0, 1114128, 0, 0, 1114127, 0, 0, 1114126, 131072, 1, 1048590, 65536, 0, 983054, 65536, 0, 917518, 65536, 0, 1048598, 196608, 1)
layer_1/name = "station"
layer_1/modulate = Color(1, 1, 1, 0.705882)
layer_1/tile_data = PackedInt32Array()
layer_2/name = "signals"
layer_2/modulate = Color(1, 1, 1, 0.705882)
layer_2/tile_data = PackedInt32Array(393225, 0, 3, 393232, 0, 3, 589830, 65536, 3, 589845, 0, 4, 720909, 65536, 4, 524301, 65536, 3, 1114130, 65536, 4, 851986, 0, 3)
layer_3/name = "temporary_track"
layer_3/tile_data = PackedInt32Array()
script = ExtResource("2_4w5il")

[node name="engine" parent="map" instance=ExtResource("2_gvt76")]
position = Vector2(48, 96)

[node name="debug" type="Marker2D" parent="map"]
position = Vector2(48, 96)

[node name="debug2" type="Marker2D" parent="map"]
position = Vector2(448, 96)

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="builder" type="HBoxContainer" parent="CanvasLayer"]
anchors_preset = 7
anchor_left = 0.5
anchor_top = 1.0
anchor_right = 0.5
anchor_bottom = 1.0
offset_left = -47.0
offset_top = -40.0
offset_right = 47.0
grow_horizontal = 2
grow_vertical = 0
script = ExtResource("4_cr3s4")

[node name="track_sel" type="OptionButton" parent="CanvasLayer/builder"]
layout_mode = 2

[node name="obj_sel" type="OptionButton" parent="CanvasLayer/builder"]
layout_mode = 2

[node name="clear" type="Button" parent="CanvasLayer/builder"]
layout_mode = 2
text = "Clear Obstacles"
